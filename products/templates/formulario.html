{% extends "layouts/base.html" %}
{% block title %} {{title}} {% endblock title %}

{% block content %}

<div class="content__producto">

    <h1 class="producto__title">Registro de Nuevo Producto</h1>
    

   <div class="form-container">
    {{valor}}
      
    {% if valor == 'update' %}

        <form action="{% url 'addproduct' %}" method="POST">
            {% csrf_token %}
            <label for="nombre">Nombre: update</label>
            <input type="text" id="nombre" name="nombre" value="{{product.name}}" required>

            <label for="descripcion">Descripción:</label>
            <textarea id="descripcion" name="descripcion" value="{{product.descriptions}}" rows="4"></textarea>

            <label for="precio">Precio ($):</label>
            <input type="number" id="precio"  name="precio" value="{{product.price}}" min="0" step="0.01" required>

            <label for="stock">Stock (Unidades):</label>
            <input type="number" id="stock" name="stock" value="{{product.stock}} min="0" required>

            <label for="categoria">Categoría:</label>
            <select id="categoria" name="categoria" required>
                <option value="">Selecciona una categoría</option>
                {% for category in categories  %}
                 <option value={{category.name}}>{{category.name}}</option>
                {% endfor %}
            </select>

            <button type="submit">Guardar Producto</button>
        </form>
    
    
    {% else %}
    
 
        
        <form action="{% url 'addproduct' %}" method="POST">
            {% csrf_token %}
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required>

            <label for="descripcion">Descripción:</label>
            <textarea id="descripcion" name="descripcion" rows="4"></textarea>

            <label for="precio">Precio ($):</label>
            <input type="number" id="precio" name="precio" min="0" step="0.01" required>

            <label for="stock">Stock (Unidades):</label>
            <input type="number" id="stock" name="stock" min="0" required>

            <label for="categoria">Categoría:</label>
            <select id="categoria" name="categoria" required>
                <option value="">Selecciona una categoría</option>
                {% for category in categories  %}
                 <option value={{category.name}}>{{category.name}}</option>
                {% endfor %}
            </select>

            <button type="submit">Guardar Producto</button>
        </form>
           {% endif %}



</div>

{% endblock content %}